"0","#creating the heatmap based off SNL heatmap data"
"0",""
"0","# Step 1: Pivot the data to long format"
"0","heatmap_long <- snl_heatmap_data %>%"
"0","  pivot_longer("
"0","    cols = c(economics, reproductive_rights, immigration, democracy),"
"0","    names_to = ""topic"","
"0","    values_to = ""mentioned_by"""
"0","  )"
"0",""
"0","# Step 2: Set color palette"
"0","mention_colors <- c("
"0","  ""Trump"" = ""red"","
"0","  ""Harris"" = ""blue"","
"0","  ""Both"" = ""purple"","
"0","  ""None"" = ""grey90"""
"0",")"
"0",""
"0","# Step 3: Set election day"
"0","election_day <- as.Date(""2024-11-05"")"
"0",""
"0","# Step 4: Plot"
"0","heatmap_plot <- ggplot(heatmap_long, aes(x = date, y = fct_rev(topic), fill = mentioned_by)) +"
"0","  geom_tile(color = ""white"", linewidth = 0.5) +"
"0","  scale_fill_manual(values = mention_colors, name = ""Mentioned By"") +"
"0","  labs("
"0","    title = ""SNL Mentions by Topic and Candidate Over Time"","
"0","    x = ""Episode Air Date"","
"0","    y = ""Topic"""
"0","  ) +"
"0","  scale_x_date(date_breaks = ""1 week"", date_labels = ""%b %d"") +  # Nice weekly labels"
"0","  theme_minimal(base_size = 14) +"
"0","  theme("
"0","    axis.text.x = element_text(angle = 45, hjust = 1),"
"0","    panel.grid = element_blank()"
"0","  ) +"
"0","  geom_vline(xintercept = as.Date(""2024-11-05""), linetype = ""dashed"", color = ""black"")"
"0",""
"0",""
"0","# Step 5: Print and save"
"0","print(heatmap_plot)"
"1","[1m[33mError[39m in `transformation$transform()`:[22m
[38;5;232m[33m![38;5;232m `transform_date()` works with objects of class [34m<Date>[38;5;232m only[39m
[90mRun `]8;;x-r-run:rlang::last_trace()rlang::last_trace()]8;;` to see where the error occurred.[39m
"
